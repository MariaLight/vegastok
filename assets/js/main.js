"use strict";var e=20234,t=window.innerWidth,n=void 0;if(document.getElementById("odometer")){n=t>=960?document.getElementById("odometer"):document.getElementById("odometer-2");var r=new Odometer({el:n,value:e,format:"( ddd).dd",animation:"up"});r.render(),setInterval((function(){r.update(e++)}),5e3)}if(document.querySelector(".swiper__news"))new Swiper(".swiper__news",{direction:"horizontal",slidesPerView:2,spaceBetween:20,freeMode:!0,mousewheel:{forceToAxis:!0},navigation:{nextEl:".news .swiper-button-next",prevEl:".news .swiper-button-prev"},breakpoints:{320:{slidesPerView:1},960:{slidesPerView:2}}});if(document.querySelector(".swiper__popular"))new Swiper(".swiper__popular",{direction:"horizontal",slidesPerView:4,spaceBetween:20,freeMode:!0,mousewheel:{forceToAxis:!0},navigation:{nextEl:".popular .swiper-button-next",prevEl:".popular .swiper-button-prev"},breakpoints:{320:{slidesPerView:1},640:{slidesPerView:2},960:{slidesPerView:4}}});document.addEventListener("DOMContentLoaded",(function(){var e=window.innerWidth;document.querySelectorAll(".header__item").forEach((function(t){var n=t.querySelector(".header__submenu");e>=960?(t.addEventListener("mouseenter",(function(){n.classList.add("header__submenu--active")})),t.addEventListener("mouseleave",(function(){n.classList.remove("header__submenu--active")})),n.addEventListener("mouseenter",(function(){n.classList.add("header__submenu--active")}))):t.addEventListener("click",(function(e){e.preventDefault(),n.classList.contains("header__submenu--active")?(n.classList.remove("header__submenu--active"),t.querySelector(".header__link").classList.remove("header__link--active")):(n.classList.add("header__submenu--active"),t.querySelector(".header__link").classList.add("header__link--active"))}))}));var t=document.querySelector(".burger"),n=(t.querySelector("#open"),t.querySelector("#close"),document.querySelector(".header__nav"));t.addEventListener("click",(function(){n.classList.toggle("header__nav--active"),t.classList.toggle("burger--active")}));var r=document.getElementById("catalogFilter");r&&customSelect(r),document.querySelectorAll("[data-fancybox]")[0]&&Fancybox.bind("[data-fancybox]",{});try{var o=function(e){e.classList.remove("modal--active"),c.style.overflowY="",function(e){e.removeEventListener("keydown",a),e.removeEventListener("click",i)}(e)},a=function(e){var t=e.currentTarget;"Escape"===e.key&&o(t)},i=function(e){e.currentTarget.querySelector(".modal__content").contains(e.target)||o(e.currentTarget)},d=document.querySelectorAll("[data-modal]"),c=document.querySelector("body"),s=document.querySelectorAll("[data-modal-close]");d.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=e.target.closest("[data-modal]").getAttribute("data-modal"),n=document.getElementById(t);n&&(n.classList.add("modal--active"),c.style.overflow="hidden",function(e){e.addEventListener("keydown",a),e.addEventListener("click",i)}(n))}))})),s.forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.closest(".modal");t&&o(t)}))}))}catch(e){}}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9kb21ldGVyLmpzIiwic3dpcGVyLW5ld3MuanMiLCJzd2lwZXItcG9wdWxhci5qcyIsIm1haW4uanMiXSwibmFtZXMiOlsiZXhhbXBsZU9kb21ldGVyVmFsdWUiLCJ2dyIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJvZG9tZXRlckVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZXhhbXBsZU9kb21ldGVyIiwiT2RvbWV0ZXIiLCJlbCIsInZhbHVlIiwiZm9ybWF0IiwiYW5pbWF0aW9uIiwicmVuZGVyIiwic2V0SW50ZXJ2YWwiLCJ1cGRhdGUiLCJxdWVyeVNlbGVjdG9yIiwiU3dpcGVyIiwiZGlyZWN0aW9uIiwic2xpZGVzUGVyVmlldyIsInNwYWNlQmV0d2VlbiIsImZyZWVNb2RlIiwibW91c2V3aGVlbCIsImZvcmNlVG9BeGlzIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsImJyZWFrcG9pbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxpbmsiLCJzdWIiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJlIiwiY29udGFpbnMiLCJzd2lwZXJOZXdzIiwiYnVyZ2VyIiwiaGVhZGVyTmF2IiwidG9nZ2xlIiwic2VsZWN0IiwiY3VzdG9tU2VsZWN0Iiwic3dpcGVyUG9wdWxhciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaGVhZGVyTGlua3MiLCJtb2RhbCIsIm92ZXJmbG93WSIsImlzVXNlckFnZW50TW9iaWxlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9uTW9kYWxLZXlEb3duIiwib25Nb2RhbENsaWNrIiwia2V5IiwiY3VycmVudFRhcmdldCIsImJ0bnMiLCJidG4iLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldCIsImNsb3Nlc3QiLCJnZXRBdHRyaWJ1dGUiLCJtb2RhbElkIiwib3ZlcmZsb3ciLCJzY3JlZW5XaWR0aCIsInVzZXJBZ2VudCIsImFkZE1vZGFsRXZlbnRMaXN0ZW5lcnMiLCJidG5DbG9zZSIs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QyxTQUFLRCxHQUNETSxFQUFBbUIsY0FBQXJDLGNBQUEsbUJBQ1FlLFNBQVVJLEVBQUFBLFNBQ2RMLEVBQUlDLEVBQUFBLGNBS1AsRURqQ29DdUIsRUFBQWpELFNBQUFzQyxpQkFBQSxnQkFRakRuQixFQUFZbkIsU0FBQVcsY0FBQSxRQUNSUyxFQUFRcEIsU0FBQXNDLGlCQURBLHNCQUFBVyxFQVJxQ1YsU0FBQSxTQUFBVyxHQVlqRDVCLEVBQUFBLGlCQUFhLFNBQUEsU0FBQU8sR0FDVEEsRUFBS3NCLGlCQUNEckMsSUFBQUEsRUFBZWUsRUFBQXVCLE9BQUFDLFFBQUEsZ0JBQUFDLGFBQUEsY0N3RExiLEVBQVF6QyxTQUFTQyxlQUFlc0QsR0QxRHJDZCxJQUtKQSxFQUFBZixVQUFBQyxJQUFBLGlCQUNEYixFQUFBQSxNQUFlMEMsU0FBQSxTQ2hCbkIsU0FBNEJDLEdBdUZ4QmhCLEVBQU1sQixpQkFBaUIsVUFBV3NCLEdBckZoQ2EsRUFBQUEsaUJBQXNCQSxRQUFWWixFQUNsQixDQXFFWWEsQ0FBdUJsQixHRHJEbkMsR0FDSTNCLElBREM4QyxFQUFBckIsU0FBQSxTQUFBc0IsR0FUSUEsRUFBQXRDLGlCQUFBLFNBQUEsU0FBQU0sR0FaakIsSUFBQVksRUFBQVosRUFBQXVCLE9BQUFDLFFBQUEsVUEyQkNaLEdDd0RtQnFCLEVBQVdyQixFQXBGdEJsQixHQUNDd0MsR0FvQ08sQ0FBQSxNQUFBQyxHQUVSLENBQ0oiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG52YXIgZXhhbXBsZU9kb21ldGVyVmFsdWUgPSAyMDIzNDtcclxubGV0IHZ3ID0gd2luZG93LmlubmVyV2lkdGg7XHJcbmxldCBvZG9tZXRlckVsZW1lbnQ7XHJcbmlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2RvbWV0ZXInKSkge1xyXG5pZiAodncgPj0gOTYwKSB7XHJcbiAgICBvZG9tZXRlckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2RvbWV0ZXInKTtcclxufSBlbHNlIHtcclxuICAgIG9kb21ldGVyRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvZG9tZXRlci0yJyk7XHJcblxyXG59XHJcbnZhciBleGFtcGxlT2RvbWV0ZXIgPSBuZXcgT2RvbWV0ZXIoeyBcclxuICAgIGVsOiBvZG9tZXRlckVsZW1lbnQsXHJcbiAgICB2YWx1ZTogZXhhbXBsZU9kb21ldGVyVmFsdWUsXHJcbiAgICBmb3JtYXQ6ICcoIGRkZCkuZGQnLCAvLyDQmNC30LzQtdC90LjRgtGMINGE0L7RgNC80LDRgiDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRjyDQtNGA0L7QsdC90YvRhSDRh9C40YHQtdC7LiDQotCw0Log0LbQtSDQvNC+0LbQvdC+INC30LDQtNCw0YLRjCDQsdC+0LvRjNGI0LXQtSDQutC+0Lst0LLQviDQt9C90LDQutC+0LIg0L/QvtGB0LvQtSDQt9Cw0L/Rj9GC0L7QuVxyXG4gICAgYW5pbWF0aW9uOiAndXAnIC8vINCS0LjQtCDQsNC90LjQvNCw0YbQuNC4XHJcblxyXG5cclxufSk7XHJcbmV4YW1wbGVPZG9tZXRlci5yZW5kZXIoKVxyXG5cclxuXHJcbnNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgIGV4YW1wbGVPZG9tZXRlci51cGRhdGUoZXhhbXBsZU9kb21ldGVyVmFsdWUrKyk7XHJcbn0sIDUwMDApO1xyXG59IiwiaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXJfX25ld3MnKSkge1xyXG5cclxuY29uc3Qgc3dpcGVyTmV3cyA9IG5ldyBTd2lwZXIoJy5zd2lwZXJfX25ld3MnLCB7XHJcbiAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICBzcGFjZUJldHdlZW46IDIwLFxyXG4gICAgZnJlZU1vZGU6IHRydWUsXHJcbiAgICBtb3VzZXdoZWVsOiB7XHJcbiAgICAgICAgZm9yY2VUb0F4aXM6IHRydWVcclxuICAgIH0sXHJcbiAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgbmV4dEVsOiAnLm5ld3MgLnN3aXBlci1idXR0b24tbmV4dCcsXHJcbiAgICAgICAgcHJldkVsOiAnLm5ld3MgLnN3aXBlci1idXR0b24tcHJldicsXHJcbiAgICB9LFxyXG4gICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgICAzMjA6IHtcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICA5NjA6IHtcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxufSAiLCJpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXBlcl9fcG9wdWxhcicpKSB7XHJcbmNvbnN0IHN3aXBlclBvcHVsYXIgPSBuZXcgU3dpcGVyKCcuc3dpcGVyX19wb3B1bGFyJywge1xyXG4gICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICBzbGlkZXNQZXJWaWV3OiA0LFxyXG4gICAgc3BhY2VCZXR3ZWVuOiAyMCxcclxuICAgIGZyZWVNb2RlOiB0cnVlLFxyXG4gICAgbW91c2V3aGVlbDoge1xyXG4gICAgZm9yY2VUb0F4aXM6IHRydWVcclxuICAgIH0sXHJcbiAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgbmV4dEVsOiAnLnBvcHVsYXIgLnN3aXBlci1idXR0b24tbmV4dCcsXHJcbiAgICAgICAgcHJldkVsOiAnLnBvcHVsYXIgLnN3aXBlci1idXR0b24tcHJldicsXHJcbiAgICB9LFxyXG4gICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgICAzMjA6IHtcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICA2NDA6IHtcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICA5NjA6IHtcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNCxcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxufSIsImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBpc01vYmlsZSA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBzY3JlZW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoO1xyXG4gICAgICAgIGNvbnN0IGlzU2NyZWVuV2lkdGhNb2JpbGUgPSBzY3JlZW5XaWR0aCA8IDk2MDtcclxuXHJcbiAgICAgICAgY29uc3QgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8IHdpbmRvdy5vcGVyYTtcclxuICAgICAgICBjb25zdCBpc1VzZXJBZ2VudE1vYmlsZSA9IC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdCh1c2VyQWdlbnQpO1xyXG5cclxuICAgICAgICByZXR1cm4gaXNTY3JlZW5XaWR0aE1vYmlsZSAmJiBpc1VzZXJBZ2VudE1vYmlsZTtcclxuICAgIH07XHJcbiAgICBsZXQgdncgPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIGxldCBoZWFkZXJMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGVhZGVyX19pdGVtXCIpO1xyXG5cclxuICAgIGhlYWRlckxpbmtzLmZvckVhY2goZnVuY3Rpb24gKGxpbmspIHtcclxuICAgICAgICBsZXQgc3ViID0gbGluay5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19zdWJtZW51JylcclxuICAgICAgICBpZiAodncgPj0gOTYwKSB7XHJcbiAgICAgICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHN1Yi5jbGFzc0xpc3QuYWRkKCdoZWFkZXJfX3N1Ym1lbnUtLWFjdGl2ZScpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHN1Yi5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXJfX3N1Ym1lbnUtLWFjdGl2ZScpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHN1Yi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc3ViLmNsYXNzTGlzdC5hZGQoJ2hlYWRlcl9fc3VibWVudS0tYWN0aXZlJylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdWIuY2xhc3NMaXN0LmNvbnRhaW5zKCdoZWFkZXJfX3N1Ym1lbnUtLWFjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ViLmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlcl9fc3VibWVudS0tYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAgICBsaW5rLnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2xpbmsnKS5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXJfX2xpbmstLWFjdGl2ZScpXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Yi5jbGFzc0xpc3QuYWRkKCdoZWFkZXJfX3N1Ym1lbnUtLWFjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgbGluay5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19saW5rJykuY2xhc3NMaXN0LmFkZCgnaGVhZGVyX19saW5rLS1hY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgbGV0IGJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXInKTtcclxuICAgIGxldCBidXJnZXJPcGVuID0gYnVyZ2VyLnF1ZXJ5U2VsZWN0b3IoJyNvcGVuJyk7XHJcbiAgICBsZXQgYnVyZ2VyQ2xvc2UgPSBidXJnZXIucXVlcnlTZWxlY3RvcignI2Nsb3NlJyk7XHJcbiAgICBsZXQgaGVhZGVyTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fbmF2Jyk7XHJcbiAgICBidXJnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaGVhZGVyTmF2LmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlcl9fbmF2LS1hY3RpdmUnKVxyXG4gICAgICAgIGJ1cmdlci5jbGFzc0xpc3QudG9nZ2xlKCdidXJnZXItLWFjdGl2ZScpXHJcbiAgICB9KVxyXG5cclxuXHJcbiAgICBsZXQgc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdGFsb2dGaWx0ZXInKTtcclxuICAgIGlmIChzZWxlY3QpIHtcclxuICAgICAgICBjdXN0b21TZWxlY3Qoc2VsZWN0KTtcclxuICAgIH1cclxuICAgIGxldCBmYW5jeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZhbmN5Ym94XScpO1xyXG4gICAgaWYgKGZhbmN5WzBdKSB7XHJcbiAgICAgICAgRmFuY3lib3guYmluZChcIltkYXRhLWZhbmN5Ym94XVwiLCB7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBidG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9kYWxdJyk7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcclxuICAgICAgICBjb25zdCBidG5DbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1vZGFsLWNsb3NlXScpO1xyXG5cclxuICAgICAgICBidG5zLmZvckVhY2goYnRuID0+IHtcclxuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RhbElkID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtbW9kYWxdJykuZ2V0QXR0cmlidXRlKCdkYXRhLW1vZGFsJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsSWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vZGFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnbW9kYWwtLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuICAgICAgICAgICAgICAgICAgICBhZGRNb2RhbEV2ZW50TGlzdGVuZXJzKG1vZGFsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJ0bkNsb3NlLmZvckVhY2goY2xvc2UgPT4ge1xyXG4gICAgICAgICAgICBjbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBlLnRhcmdldC5jbG9zZXN0KCcubW9kYWwnKTtcclxuICAgICAgICAgICAgICAgIGlmIChtb2RhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwobW9kYWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkTW9kYWxFdmVudExpc3RlbmVycyhtb2RhbCkge1xyXG4gICAgICAgICAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25Nb2RhbEtleURvd24pO1xyXG4gICAgICAgICAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uTW9kYWxDbGljayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVNb2RhbEV2ZW50TGlzdGVuZXJzKG1vZGFsKSB7XHJcbiAgICAgICAgICAgIG1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbk1vZGFsS2V5RG93bik7XHJcbiAgICAgICAgICAgIG1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25Nb2RhbENsaWNrKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcclxuICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93WSA9ICcnO1xyXG4gICAgICAgICAgICByZW1vdmVNb2RhbEV2ZW50TGlzdGVuZXJzKG1vZGFsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9uTW9kYWxLZXlEb3duKGUpIHtcclxuICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBlLmN1cnJlbnRUYXJnZXQ7XHJcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwobW9kYWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBvbk1vZGFsQ2xpY2soZSkge1xyXG4gICAgICAgICAgICBjb25zdCBtb2RhbENvbnRlbnQgPSBlLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jb250ZW50Jyk7XHJcbiAgICAgICAgICAgIGlmICghbW9kYWxDb250ZW50LmNvbnRhaW5zKGUudGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgY2xvc2VNb2RhbChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG5cclxuICAgIH1cclxufSkiXX0=
